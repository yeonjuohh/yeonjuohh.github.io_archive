{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/data-analysis/plot_cohort_chart_using_python/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Hado Log"}},"markdownRemark":{"id":"0f2ec019-92b9-5452-8b07-bc01851d3336","excerpt":"서비스가 성장하기 위해서는 새로운 유저를 유입시키는 것도 중요하지만 기존 유저들이 제품을 계속해서 사용하도록 만들어야 합니다. AARRR 에서 두 번째 R을 담당하는 retention…","html":"<p>서비스가 성장하기 위해서는 새로운 유저를 유입시키는 것도 중요하지만 기존 유저들이 제품을 계속해서 사용하도록 만들어야 합니다. <a href=\"https://ko.wikipedia.org/wiki/그로스_해킹#AARRR\">AARRR</a> 에서 두 번째 R을 담당하는 retention은 얼마나 많은 유저가 제품을 지속적으로 사용하고 있는지 측정하는 지표로, 서비스가 잘 성장하고 있는지 보여줍니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/075ce4285bc674406ef81de6aec44c36/0c1c2/img1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 98.10126582278481%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAADbklEQVQ4y42U7VMbVRSH+bf84ug4fvKDLzN+ajtap9PqSK1lKA42Y+mIVBBsG1owyoyVQYxBAdNQwTQoRkvTlBBAKAWySUhIsmSThrw1L5s8zm5eNsR26p05c+65e/fZ3zn33G0B2HULCPYVEpsekl4fKa+PTGiPsGeL4MMHiMIO2ahIVhI1L4lk9sMUDuIcJJLMmm0Ui0VaFODNXhNjJ3pZGRpnyzjFzsQ0AauVqPse0WUH0oqTqNvB/rJDjfeVdfc9RNddsv5tdra8vPbSMXK5XAWo1xk49cJp+o9e4rt3rzCrG+Fu/xibo5P4Lb+yv+xEWnMhrS6pFltfRlxa5MDnUV5H2Pbz9hutmsK+j65x8vlWvn5ngInTgyx0f4t72IgwNUP4LzvRlftIa0t1YHTFSXJXIJ9OqcCAsEfH0S4K+UIF+GXnMG0vtzF5Zpj5rhFWDSZ2TL+w9/s80j+uQ+qUOP5glWImTW0EhRDnjnSRz+UrQFPvj3z++kUmzg7hHjLinb6lphqw3kZarapbc6nKlHm5VFJBJbniI74IA+9dRi7KFaDuwx7eeu44P30wzJJ+DGHSgt88Q2DOWgW61AN5tLVBIZ2qA2te9IsMvq/XUtad6eHUiyexXbzB2oiJ3VkrQZuN0MJCPdX45hrZaKQCKpcrViqrsRSIcqPdoAHHPh1n5EQfnu+n8Zpn2Hc5kNZd9VSVNsnFJU1VuVydV/yjPYnpT0bVEqjALzqu0/3mxwjjZsLOxUOnqfRbPpmgLMuasiaFiZCEuWuUYqGq8LM2Pd1HdIQtcwT/XFDbRIHF1t2kQwGtZjVlTQpTYpy/r5goFqp92NOm59LxC4i/WRGmbiLed6jtkfR7DtWsEdYMvHN1gnIt5d6Oa3S+0o5zYBxh2kJk0U46tFuv2ZNgjXE2lmB9zIJcuyk97YOcf/UcG9/8TOCPeVIBP8XHWU0dTx414ONYgs0fZrSUr3Ya6D92gaB5jtjDdUqFwn9q1qyu8XkucYBvxqZmowJvD5q5df4rRLudUlF+as2eBiwkU4QX7Bqwr/UyQx3XoVxUr8+h5n2GqcB0msidRa1tjIYpLEardj8bT/J/KFTqndjaUOMW5R9WG6XqiTYreJZCWQFuK8ASLbIsq6oUUxYaNyvPMplMPa59sNmrewt5VeG/vMuhvoSnvjsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"cohort chart 예시\"\n        title=\"cohort chart 예시\"\n        src=\"/static/075ce4285bc674406ef81de6aec44c36/f058b/img1.png\"\n        srcset=\"/static/075ce4285bc674406ef81de6aec44c36/c26ae/img1.png 158w,\n/static/075ce4285bc674406ef81de6aec44c36/6bdcf/img1.png 315w,\n/static/075ce4285bc674406ef81de6aec44c36/f058b/img1.png 630w,\n/static/075ce4285bc674406ef81de6aec44c36/40601/img1.png 945w,\n/static/075ce4285bc674406ef81de6aec44c36/78612/img1.png 1260w,\n/static/075ce4285bc674406ef81de6aec44c36/0c1c2/img1.png 1542w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Retention을 시각화하는 방법 중 하나로는 cohort chart가 있습니다. Cohort는 공통점이 있는 유저 그룹을 의미하는데, 예를 들어 가입 날짜, 유입 채널 등으로 유저를 나눠볼 수 있습니다. Cohort chart를 그려보면 유저 그룹이 시간이 지남에 따라 어떻게 행동하는지 살펴볼 수 있습니다.</p>\n<p>이 글에서는 python을 이용해 cohort chart를 그려보면서 retention에 대해 알아보겠습니다.</p>\n<h3>준비</h3>\n<p>가장 먼저 분석에 필요한 library를 가져와주세요.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">from datetime import datetime\nimport math \n\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt \nimport seaborn as sns</code></pre></div>\n<h3>데이터</h3>\n<p><a href=\"https://www.kaggle.com/\">Kaggle</a> 에서 찾은 Netflix audience behaviour - UK movies 데이터를사용하겠습니다. 데이터는 <a href=\"https://www.kaggle.com/datasets/vodclickstream/netflix-audience-behaviour-uk-movies\">여기</a>서 다운 받을 수 있습니다. 이 데이터는 2017년 1월부터 2019년 6월에 Netflix에서 컨텐츠를 클릭한 유저 데이터의 일부분입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">df = pd.read_csv('netflix_uk.csv')\ndf.head()</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9370b1bfe20816c0ad5e12e39d1566f6/96658/img2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 28.48101265822785%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA5UlEQVQY0z2Q1w6DQAwE+f8P5IkiRK8BQm8bjSWCZOHzre25daqq0nmemudZn89HwzDovm+L53m077uO47Cc4OPc973p13XV9/s1HTOcLMvsMggCeZ6nsixNWBSF8jyX67pWm6ZJTdNYLU1TxXGsKIqUJIn1oqfmjONohJAS13VpWRZ1Xae2bU3IdjQMRMOfPl6DjhoQ5A5NDGAz2ziDzjMgIzhv22Z/SBmArq5rC3pZQv4npBEhTXgEFYuo49PrJflLBCH95NhmhC8BvkCIgEu28lx8hQYCtFD4vm9+cUYThuHf1x8xT8aQ11jYDgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"데이터 첫 5개 행 출력\"\n        title=\"데이터 첫 5개 행 출력\"\n        src=\"/static/9370b1bfe20816c0ad5e12e39d1566f6/f058b/img2.png\"\n        srcset=\"/static/9370b1bfe20816c0ad5e12e39d1566f6/c26ae/img2.png 158w,\n/static/9370b1bfe20816c0ad5e12e39d1566f6/6bdcf/img2.png 315w,\n/static/9370b1bfe20816c0ad5e12e39d1566f6/f058b/img2.png 630w,\n/static/9370b1bfe20816c0ad5e12e39d1566f6/96658/img2.png 881w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ul>\n<li>datetime: 콘텐츠를 클릭한 시간</li>\n<li>duration: 콘텐츠에서 이탈하기까지 걸린 시간 (초)</li>\n<li>title: 콘텐츠 제목</li>\n<li>genres: 콘텐츠 장르</li>\n<li>release_date: 콘텐츠 출시일</li>\n<li>movie_id: 콘텐츠 아이디</li>\n<li>user_id: 유저 아이디</li>\n</ul>\n<p>본격적으로 데이터 전처리를 하기 전에 칼럼을 정리해 주겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># (1) datetime 타입 수정\ndf['date'] = pd.to_datetime(df['datetime'])\n\n# user_id, datetime, duration만 남김\ndf = df[['user_id', 'datetime', 'duration']]</code></pre></div>\n<p>(1) datetime 변수 타입을 string에서 datetime으로 수정합니다.</p>\n<p>(2) 앞으로 사용할 user_id, datetime, duration만 남겨줍니다.</p>\n<h3>Retention 준비 재료 - Core Event</h3>\n<p>Retention은 보통 재방문율이라고도 알려져 있지만 단순히 방문만 해도 retained 되었다고 한다면 유저가 서비스를 제대로 사용하고 있는지 확인하기 어렵습니다. 모든 서비스에는 유저에게 꼭 주고 싶은 가치와 연관된 이벤트가 있는데 이를 core event라 합니다. 쉽게 설명하면 유저가 제품을 이용하면서 계속 하면 좋겠는 행동을 의미합니다. Core event로 retention을 본다면 유저가 서비스에서 가치를 계속해서 가져가고 있는지 알 수 있습니다.</p>\n<p>Netflix 데이터에서는 유저가 콘텐츠를 10분 이상 보는 걸 core event라고 정의할 수 있습니다. 홈페이지에 방문해서 아무런 행동을 안 하고 바로 이탈하거나 콘텐츠를 클릭해도 1초만 보고 이탈한 유저들은 Netflix에서 제공하고자 하는 가치를 경험했다고 하기 어렵습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># (1) 10분 이상 컨텐츠를 본 데이터만 사용\ndf = df[df['duration'] / 60 >= 10]\n\n# (2) duration 삭제\ndf = df.drop('duration', axis=1)</code></pre></div>\n<p>(1) 10분 이상 컨텐츠를 본 데이터만 사용합니다.</p>\n<p>(2) 이제 필요없는 duration은 삭제합니다.</p>\n<h3>Retention 준비 재료 - Usage Interval</h3>\n<p>제품의 usage interval을 어떻게 정의하느냐에 따라 똑같은 그래프로 더 많은 인사이트를 얻을 수도 있고 아닐 수도 있습니다. 예를 들어, 이용 주기가 분기별인 제품의 retention을 일별로 계산하면 당연히 Day 1부터 값이 급격하게 감소하고, 그 이후에도 계속 낮은 값을 가지기 때문에 어떠한 이야기를 하기에도 어려운 그래프가 되어버립니다.</p>\n<p>Amplitude에서 발행한 Mastering Retention V1에서는 서비스 데이터로 usage interval을 정의하는 방법을 소개해 주고 있습니다.</p>\n<ol>\n<li>일정 기간 내 core event를 최소 2번 수행한 유저 데이터를 수집합니다. 보통 60 - 90일 기간을 살펴보는데 탐색하는 기간은 서비스 특징에 따라 달라질 수도 있습니다.</li>\n<li>Core event를 두 번째로 수행하기까지 얼마만큼의 시간이 걸렸는지 계산합니다.</li>\n<li>시간 간격에 따라 core event를 반복한 유저의 비율을 <a href=\"%5Bhttps://ko.wikipedia.org/wiki/%EB%88%84%EC%A0%81_%EB%B6%84%ED%8F%AC_%ED%95%A8%EC%88%98%5D(https://ko.wikipedia.org/wiki/%EB%88%84%EC%A0%81_%EB%B6%84%ED%8F%AC_%ED%95%A8%EC%88%98)\">CDF</a> 그래프로 그려봅니다.</li>\n<li>80%의 유저가 이벤트를 반복한 시점을 찾습니다.</li>\n</ol>\n<p>위 방법으로 Netflix 데이터의 usage interval을 찾아보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># (1) 2017-01-01 - 2017-03-31 기간 데이터만 사용\ndf_sub = df[(df['datetime'] > datetime(2017, 1, 1)) &amp; (df['datetime'] &lt; datetime(2017, 3, 31))]\n\n# (2) 유저별로 이벤트를 처음 수행한 시간을 계산\ndf_sub['first_event_date'] = df_sub.groupby('user_id')['datetime'].transform('min')\n\n# (3) datetime 칼럼 이름 수정\ndf_sub = df_sub.rename(columns = {'datetime' : 'second_event_date'})\n\n# (4) first_event_date와 second_event_date이 같은 데이터 제거\ndf_sub = df_sub[df_sub['first_event_date'] != df_sub['second_event_date']]\n\n# (5) user_id, first_event_date으로 정렬하고 user_id 별로 가장 첫 데이터만 사용\ndf_sub = df_sub.sort_values(['user_id', 'second_event_date'])\ndf_sub = df_sub.groupby('user_id').first().reset_index(drop=False)</code></pre></div>\n<p>(1) 2017-01-01 - 2017-03-31 기간 데이터만 살펴봅니다.</p>\n<p>(2) 유저별로 core event를 처음 수행한 시간을 계산합니다. user_id를 기준을 group by 해주고 datetime의 최솟값을 찾습니다.</p>\n<p>(3) datetime 칼럼 이름을 second_event_date으로 수정합니다.</p>\n<p>(4) 모든 열에 first_event_date을 추가해 주었기 때문에 first_event_date와 second_event_date 값이 같은 데이터가 모든 user_id에 하나씩 있습니다. 이 데이터는 core event를 한 번만 한 것과 똑같은 의미를 가지기 때문에 삭제합니다.</p>\n<p>(4) 관찰 기간에 core event를 세 번 이상 수행한 유저도 있을 수 있습니다. 하지만, 지금은 이벤트를 정확히 두 번 한 데이터만 있으면 되기 때문에 필요한 데이터만 남깁니다. first_event_date는 같은 user_id에서는 모두 같기 때문에 user_id, second_event_date으로 정렬하면 user_id 중에서 second_event_date가 가장 오래된 데이터가 위로 가게 됩니다. user_id를 기준으로 group by 해주고 가장 첫 번째 열만 가져옵니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 548px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6dd623284db608034bfad0cbdbff282d/a58fe/img3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.632911392405056%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABaklEQVQoz52R56orMRCD9/0fK5CQ3kmvm94rKaTo8Al84cL5dRZmx7Y8Go0c6Y/f9/v99Tx6v996Pp/6fD6q1+sqlUqaTqdqtVpKpVKqVCrK5/PGEomElsulqCmXy8bS6bRzMpnU+XxWtNls1G63XZTL5XwBMogLhYILa7WastmsMpmMOp2OySGpVqvGi8Wi67bbraLr9SpIe72eBoOBRqORgcViYTXz+dw458PhULvdTrPZzPhqtXJMJhPjt9tN0ev10uPxUL/fV6PRMPHlcvHYFEFAA4poeDweTQgR2H6/dw31WBedTicXNptNj0pmjxq6cjmOY+8hRC3r8XhsEoI9ttlDfnTDGwKAPSSBCLWsIUFVHI+tGIwAozH2Rff73SOhJnQ8HA5WSeAhDfCz2+3+h3EGMYTkfyOzYVQ85PWCXwSqyaEZRGFMLGIdrLFCHoSujEVAxljr9dp+hddkTeYuGFMF9WCcofAHfO7fsaiIkFMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"df_sub 첫 5개 행 출력\"\n        title=\"df_sub 첫 5개 행 출력\"\n        src=\"/static/6dd623284db608034bfad0cbdbff282d/a58fe/img3.png\"\n        srcset=\"/static/6dd623284db608034bfad0cbdbff282d/c26ae/img3.png 158w,\n/static/6dd623284db608034bfad0cbdbff282d/6bdcf/img3.png 315w,\n/static/6dd623284db608034bfad0cbdbff282d/a58fe/img3.png 548w\"\n        sizes=\"(max-width: 548px) 100vw, 548px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>데이터를 전처리 해준 결과입니다. 테이블에서 세 번째 열을 보면 user_id가 003e4ea440인 유저는 2017-03-04에 처음으로 콘텐츠를 10분 이상 보았고, 23일 후인 27일에 두 번째로 보았습니다.</p>\n<p>이제 CDF 를 계산해 보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">def calculate_usage_interval(df):\n    # (1) first_event_date와 second_event_date 사이에 몇 일이 있는지 계산\n    df['diff_days'] = (df['second_event_date'] - df['first_event_date']).dt.days\n    \n    # (2) diff_days별로 유저 수 집계\n    count = df.groupby('diff_days').count().iloc[:, 0]\n\n    # (3) diff_days의 pdf 계산\n    pdf = {}\n    for index, value in enumerate(count):\n        pdf[index] = value / sum(count)\n\n    # (4) cdf 계산\n    cdf = np.cumsum(list(pdf.values()))\n\n    return cdf</code></pre></div>\n<p>(1) Core event가 처음 일어난 시간과 두 번째로 일어난 시간 사이에 며칠이 있는지 계산합니다.</p>\n<p>(2) diff_days 별  유저 수를 셉니다. 유저 아이디는 중복되어 있지 않기 때문에 단순히 count를 사용합니다.</p>\n<p>(3) PDF부터 계산합니다. 전체 유저 중 diff_days가 특정 값을 가지는 비율을 계산합니다.</p>\n<p>(4) PDF의 누적 합을 계산합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">def plot_usage_interval(cdf):\n    # 0.8과 가장 가까운 위치의 값을 프린트\n    print('80% threshold:', np.abs(cdf - 0.8).argmin(), 'days')\n    \n    # CDF 시각화\n    plt.plot(cdf)\n    \n    plt.axhline(y=0.8, color='green', linestyle='-')\n    plt.title('usage interval')\n    plt.xlabel('days')\n    plt.ylabel('percentage')\n    \n    plt.show()</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">cdf = calculate_usage_interval(df_sub)\nplot_usage_interval(cdf)</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 608px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6ec417b3a76da638b3078958d4ccb962/18872/img4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 78.48101265822784%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAABp0lEQVQ4y6VT2XLiMBD0///a5mXDFR54oNgsBbZuyzosubdGoA0hhIRKV3UxEqP2aNTTzGYzzOdzbLdbrNdrLJfLshZCoOs6PD//xn6/xzWmabrJJoQA4jiOqLH3HnnK5aDWGsaY8j/txxhL/BmaGlDSJetHdrsdnp5+Yf2ywmKxwMtqhc1mU4RjDGfG//lNreJwOJQKnHOFg3MI3sM7B6l7dNLgIAz+Mn1BVfjKFFqhYbQ+CZI6iV4jpAxuI5QbMcSEPE2fXpX6Z619q5Bz/i7BuATRR9zRuFLEm6B3Hi1voYNGHw1eJS+00cAEA+31mQbmFoOBcgpSSzSMsdL4TjDY2INZhT+Cw422JPah/xa101AkSF4jn5E1CMJGpIzHUa9MBj4ejxgGizAmcBvuGvcmMSHnjL7vTz1USkEKDuNHDGF8WJDwTrDaRtiAlDOpPVbh9KFCiY4xSJfwE5xtc1KnazOpTlMyDOWR6JfW9GWKaZLoEK1pn2LKu4yb2oOUEqSUZR5pNumhSID2yQnE2hqyGhVBD0kjW8/QXnPZ2Hto27bc4iv8A5wv4BYJzzbIAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"usage interval cdf 그래프\"\n        title=\"usage interval cdf 그래프\"\n        src=\"/static/6ec417b3a76da638b3078958d4ccb962/18872/img4.png\"\n        srcset=\"/static/6ec417b3a76da638b3078958d4ccb962/c26ae/img4.png 158w,\n/static/6ec417b3a76da638b3078958d4ccb962/6bdcf/img4.png 315w,\n/static/6ec417b3a76da638b3078958d4ccb962/18872/img4.png 608w\"\n        sizes=\"(max-width: 608px) 100vw, 608px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Netflix 데이터에서는 약 80%의 유저들이 콘텐츠를 10분 이상 본 날로부터 7일째 되는 날 또 다시 콘텐츠를 10분 이상 보았습니다. 즉, usage interval이 7일이라고 할 수 있습니다.</p>\n<h3>Cohort Chart 그리기</h3>\n<p>이제 앞에서 정의한 core event와 usage interval을 참고해 cohort chart를 그려보겠습니다. 먼저 그래프를 그릴 수 있도록 데이터를 처리해 줘야 합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">def calculate_retention_matrix(df):\n    # (1) date 칼럼 추가, usage interval에 맞춰 날짜를 truncate \n    df['date'] = pd.to_datetime(df['datetime']).dt.date\n    df = df.drop('datetime', axis=1)\n\n    df['date'] = df['date'] - pd.to_timedelta(pd.to_datetime(df['date']).dt.dayofweek, unit='d')\n    \n    # (2) 유저별로 이벤트를 처음 수행한 날짜를 계산\n    df['cohort'] = df.groupby('user_id')['date'].transform('min')\n      \n    # (3) cohort마다 date를 기준으로 몇 명의 유저가 이벤트를 발생시켰는지 집계\n    df_cohort = \\\n        df.groupby(['cohort', 'date']) \\\n        .agg(cnt=('user_id', 'nunique')) \\\n        .reset_index(drop=False)\n    \n    # (4) date와 cohort 사이에 몇 일이 있는지 계산\n    df_cohort['diff'] = \\\n        [math.floor(x) for x in ((df_cohort['date'] - df_cohort['cohort']).dt.days) / 7]\n    \n    # (5) cohort를 index, diff를 column으로 하는 pivot 테이블을 만듦\n    cohort_pivot = \\\n        df_cohort.pivot_table(\n            index = 'cohort',\n            columns = 'diff',\n            values = 'cnt')\n    \n    # (6) cohort별로 유저 수를 셈\n    cohort_size = df.groupby('cohort').agg(cnt=('user_id', 'nunique'))['cnt']\n    \n    # (7) cohort_pivot dataframe을 cohort_size로 나눠 비율 계산\n    retention_matrix = cohort_pivot.divide(cohort_size, axis = 0)\n\n    return retention_matrix\n\nretention_matrix = calculate_retention_matrix(df)</code></pre></div>\n<p>(1) 날짜 계산을 쉽게 하기 위해 datetime으로 date를 만듭니다. 그리고 주별 retention 그래프를 만들기 위해 date를 해당주의 월요일로 치환합니다.</p>\n<p>(2) 주어진 데이터에서 이벤트를 처음 수행한 날짜를 기준으로 유저를 나눕니다. 보통 가입 날짜로 cohort를 만들지만, 가입 데이터가 없기 때문에 첫 번째 이벤트 발생 날짜를 사용하겠습니다.</p>\n<p>(3) Cohort마다 시간이 지날수록 몇 명의 유저가 core event를 하는지 셉니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 440px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c6cc8ed84ba7defc81835ff86ef4489a/48c0e/img5.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 81.64556962025317%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB40lEQVQ4y62T2YpqQQxF+///wT8QXxTEBxVnVBTnCcR5nnCeTbPS5NANfduXG6hTp5JdqZ3sqo/X6yXfB3Y8HmU6ncpqtZLFYiHP51P9Fl+v1zIcDhWHgd1ut/r/8R1oG6vVqrjdbvH7/ZJIJOR+v/9IGI/HxeVySblc1pjH45FarfaV8Hq9ymw2k9FopCcx5vO5LJdLHbAkBobYZDJR1pvNRnGDwUD/8ZFcGaZSKQXCJhwOSzablVwuJ8lkUtmQFLbRaFTZZzIZiUQiiiGZ1+tVtsqQMnq9ngZgQm84FTb9fl//d7udYljDdDweS7fbVTx9bLVaind6eLlclC6NJfHpdJL9fi+Hw0GTPR4PZYnP/DZjYEwgTcjpACiFsvP5vJaWTqd1nM9nCQQCUqlUpNls6gzOhKAVjUbjK6EpC4t/man8myGqGbmUIc2nH5waCoV+FcXn86m/UChoDFGoCCLsg7VTMsneidLpdFQQrgo3gjV4+g+GmJOQDbfb7a0oxM1PX00UfD9EsftESX+Jgg9REKNer0uxWNQkpVJJWf4XUSjZnqUjCgzpCwIEg0FlBUtEicViv4pCJcwQAe9cGz40n5KhbULYazBR2u22HopYxLi7rGHImkOdp/fO/sJYywz3CafyqKVZhmnXAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"df_cohort의 첫 5개 데이터\"\n        title=\"df_cohort의 첫 5개 데이터\"\n        src=\"/static/c6cc8ed84ba7defc81835ff86ef4489a/48c0e/img5.png\"\n        srcset=\"/static/c6cc8ed84ba7defc81835ff86ef4489a/c26ae/img5.png 158w,\n/static/c6cc8ed84ba7defc81835ff86ef4489a/6bdcf/img5.png 315w,\n/static/c6cc8ed84ba7defc81835ff86ef4489a/48c0e/img5.png 440w\"\n        sizes=\"(max-width: 440px) 100vw, 440px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>위 표는 df_cohort의 일부분입니다. 세 번째 열을 보면 2016-12-26 cohort에 속한 유저 중 53명이 2017-01-09 주에 core event를 했다고 할 수 있습니다.</p>\n<p>(4) date와 cohort 사이에 몇 주가 있는지 계산합니다.</p>\n<p>(5) cohort를 index, diff를 column, cnt를 값으로 하는 pivot 테이블을 만듭니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ee882609e5498092dd1ab93a6242f780/d52e5/img6.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.93670886075949%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABLklEQVQoz22RC4vCQAyE9///uQpCQSm2VvuyD6t912rkC+Q4jisM2SSTyXTXfT4f4ev7XtZ1lWVZZNs2eb1eCnLqlhtnnmc9G8iZc4ghGgSBFiG/329tgt+DJj5NkwzDoDxqYBxHjY5mFEXieZ60batkmgwQ/wMc49kZsNwdj0fxfV+I5/NZneZ5LnEcS5IkWrtcLnK9XjWy3M7w0jSV2+0mWZbJ4/EQx9DpdFJiWZbarOtaiqLQHPw9M9g0jXRdJ8/nU+//fr/rHbvD4SC73U72+72EYajCbMMhToi4pI4rHGECIA4XE3AR/nEIEQLgLnGDi6qq1DEOyC0CnMLFKZEHcziw+7ONNNmKGDUTJEeI3BbCs8U8jEMIQXPJb0FAyC7dfosag+SA3B4N8OpfVJinRSdImvIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"df_cohort의 피벗 테이블\"\n        title=\"df_cohort의 피벗 테이블\"\n        src=\"/static/ee882609e5498092dd1ab93a6242f780/f058b/img6.png\"\n        srcset=\"/static/ee882609e5498092dd1ab93a6242f780/c26ae/img6.png 158w,\n/static/ee882609e5498092dd1ab93a6242f780/6bdcf/img6.png 315w,\n/static/ee882609e5498092dd1ab93a6242f780/f058b/img6.png 630w,\n/static/ee882609e5498092dd1ab93a6242f780/d52e5/img6.png 848w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>(6) 값 그 자체로도 의미가 있을 수 있지만, 우리는 비율을 계산하고 싶기 때문에 cohort 별로 유저 수를 셉니다.</p>\n<p>(7) 위에서 계산한 값으로 비율을 계산합니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d767153c1392eb8ac7c9eef2001cf110/081d5/img7.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 31.645569620253163%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA20lEQVQY01WQ5wqEQAyEff/384e9V1TsCpYcX449uIVhJskkG2KJiOz7LsuyIOV9X+XrulQ/z6NsQEyNh+bd960gbzHIcRwZhkEHz/Ms67rKtm0/bRgvepqmXwzQ4zjKeZ5ixXEstm1LVVWSZZkQR1EkaZpKEASag5Mk+QMevGEYqsd1XR1u0ciGbdtKnuc6iAYYkKOZJkBsctR935eiKJSP4/gO9DxPuq7TBoZhoInf0eRMja3Mh8ZXlqUO5GRWXdda5IZsSQwDjDDnMNw0jQIft+R23LXve73lB00UwX0pMKLEAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"retention_matrix의 첫 5개 데이터\"\n        title=\"retention_matrix의 첫 5개 데이터\"\n        src=\"/static/d767153c1392eb8ac7c9eef2001cf110/f058b/img7.png\"\n        srcset=\"/static/d767153c1392eb8ac7c9eef2001cf110/c26ae/img7.png 158w,\n/static/d767153c1392eb8ac7c9eef2001cf110/6bdcf/img7.png 315w,\n/static/d767153c1392eb8ac7c9eef2001cf110/f058b/img7.png 630w,\n/static/d767153c1392eb8ac7c9eef2001cf110/40601/img7.png 945w,\n/static/d767153c1392eb8ac7c9eef2001cf110/78612/img7.png 1260w,\n/static/d767153c1392eb8ac7c9eef2001cf110/081d5/img7.png 1264w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>2016-12-26 cohort를 보면 당연히 0주에는 100% 유저가 core event를 했고, 1주일 후에는 54%, 2주일 후에는 31% 유저가 core event를 했다는 것을 알 수 있습니다.</p>\n<p>드디어 모든 준비가 끝났습니다. Cohort chart를 그려보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">def plot_cohort_chart(retention_matrix):\n\n    # 그래프에 의미없는 값은 보여주지 않기 위해 안 나와도 되는 값의 위치 표시\n    mask = retention_matrix.isnull()\n    mask.iloc[:, 0] = True\n\n    # cohort chart 시각화\n    plt.figure(figsize = (20, 18))\n\n    sns.heatmap(\n        retention_matrix, \n        mask=mask, \n        annot=True, \n        fmt='.0%', \n        cmap=sns.cubehelix_palette(8),\n        linewidths=.1\n    )\n    \n    plt.title('cohort chart', fontsize=25)\n    plt.xlabel('week', fontsize=15)\n    plt.ylabel('cohort', fontsize=15)\n    \n    plt.show()\n\nplot_cohort_chart(retention_matrix)plot_retention_curve(retention_matrix)</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/075ce4285bc674406ef81de6aec44c36/0c1c2/img1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 98.10126582278481%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAADbklEQVQ4y42U7VMbVRSH+bf84ug4fvKDLzN+ajtap9PqSK1lKA42Y+mIVBBsG1owyoyVQYxBAdNQwTQoRkvTlBBAKAWySUhIsmSThrw1L5s8zm5eNsR26p05c+65e/fZ3zn33G0B2HULCPYVEpsekl4fKa+PTGiPsGeL4MMHiMIO2ahIVhI1L4lk9sMUDuIcJJLMmm0Ui0VaFODNXhNjJ3pZGRpnyzjFzsQ0AauVqPse0WUH0oqTqNvB/rJDjfeVdfc9RNddsv5tdra8vPbSMXK5XAWo1xk49cJp+o9e4rt3rzCrG+Fu/xibo5P4Lb+yv+xEWnMhrS6pFltfRlxa5MDnUV5H2Pbz9hutmsK+j65x8vlWvn5ngInTgyx0f4t72IgwNUP4LzvRlftIa0t1YHTFSXJXIJ9OqcCAsEfH0S4K+UIF+GXnMG0vtzF5Zpj5rhFWDSZ2TL+w9/s80j+uQ+qUOP5glWImTW0EhRDnjnSRz+UrQFPvj3z++kUmzg7hHjLinb6lphqw3kZarapbc6nKlHm5VFJBJbniI74IA+9dRi7KFaDuwx7eeu44P30wzJJ+DGHSgt88Q2DOWgW61AN5tLVBIZ2qA2te9IsMvq/XUtad6eHUiyexXbzB2oiJ3VkrQZuN0MJCPdX45hrZaKQCKpcrViqrsRSIcqPdoAHHPh1n5EQfnu+n8Zpn2Hc5kNZd9VSVNsnFJU1VuVydV/yjPYnpT0bVEqjALzqu0/3mxwjjZsLOxUOnqfRbPpmgLMuasiaFiZCEuWuUYqGq8LM2Pd1HdIQtcwT/XFDbRIHF1t2kQwGtZjVlTQpTYpy/r5goFqp92NOm59LxC4i/WRGmbiLed6jtkfR7DtWsEdYMvHN1gnIt5d6Oa3S+0o5zYBxh2kJk0U46tFuv2ZNgjXE2lmB9zIJcuyk97YOcf/UcG9/8TOCPeVIBP8XHWU0dTx414ONYgs0fZrSUr3Ya6D92gaB5jtjDdUqFwn9q1qyu8XkucYBvxqZmowJvD5q5df4rRLudUlF+as2eBiwkU4QX7Bqwr/UyQx3XoVxUr8+h5n2GqcB0msidRa1tjIYpLEardj8bT/J/KFTqndjaUOMW5R9WG6XqiTYreJZCWQFuK8ASLbIsq6oUUxYaNyvPMplMPa59sNmrewt5VeG/vMuhvoSnvjsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"cohort chart 그래프\"\n        title=\"cohort chart 그래프\"\n        src=\"/static/075ce4285bc674406ef81de6aec44c36/f058b/img1.png\"\n        srcset=\"/static/075ce4285bc674406ef81de6aec44c36/c26ae/img1.png 158w,\n/static/075ce4285bc674406ef81de6aec44c36/6bdcf/img1.png 315w,\n/static/075ce4285bc674406ef81de6aec44c36/f058b/img1.png 630w,\n/static/075ce4285bc674406ef81de6aec44c36/40601/img1.png 945w,\n/static/075ce4285bc674406ef81de6aec44c36/78612/img1.png 1260w,\n/static/075ce4285bc674406ef81de6aec44c36/0c1c2/img1.png 1542w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>2018-01-08부터 2018-04-01 기간의 데이터만 사용해 그려보았습니다. 가장 왼쪽에 있는 행은 각 cohort의 week 1 retention입니다. 2018-01-01 cohort에서 week 1 retention은 16%인데 이는 2018-01-01 주에 core event를 처음 수행한 유저의 16%가 일주일 후에도 core event를 했다는 것을 의미합니다. 그 옆의 9%는 2018-01-01 주에 core event를 처음 수행한 유저의 9%가 이 주일 후에도 core event를 했다는 것을 의미합니다.</p>\n<p>Cohort chart를 보면 다른 cohort와는 달리 값이 특이한 cohort가 있습니다. 2018-01-08 cohort는 다른 cohort에 비해 시간이 지날수록 retention이 떨어지는 폭이 작습니다. 이렇게 값이 특이한 cohort가 있다면 해당 주에 무슨 일이 있었는지 확인해 보는게 중요합니다. 만약 해당 주에 오프라인 행사를 진행해 행사로 유입된 유저들이 많다면 이 유입 채널이 retention 상승과 연관 있다는 가설을 세울 수 있습니다.</p>\n<p>Retention을 시각화하는 또 다른 그래프로는 retention curve가 있습니다. Cohort 별로 retention을 보면 좋은 점도 있지만 데이터를 한눈에 보기 어렵다는 단점이 있습니다. Retention curve는 usage interval 별로 retention을 평균 내서 그리는 그래프로 서비스의 retention 현황을 한 번에 볼 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">def plot_retention_curve(retention_matrix):\n    # usage interval별로 retention 평균 계산\n    retention_avg = retention_matrix.mean(axis = 0) * 100\n    \n    # retention curve 시각화\n    plt.figure(figsize = (10, 8))\n    \n    plt.plot(range(0, len(retention_avg)), retention_avg)    \n    plt.title('retention curve', fontsize=25)\n    plt.ylabel('percentage', fontsize=15)\n    \n    plt.show()\n\nplot_retention_curve(retention_matrix)</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/cadcb30183dc9572f142ccc9c416aa2f/afa26/img8.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 79.74683544303798%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAABPUlEQVQ4y62U627DIAyF8/7P2Wv+tCnExhg4k52lS9quarshHYHA+WJjmw7fo7V2Va3V90QE2+0W+/3edTqdcDgcEGP0c7NbfmNzZ4sQApgTUvqRwcZxxGazwW63c2Df9z6fz2c/X9ozs6szKhEhJkXD58M4Bu7m0AJn1GrItgr/Fa2AFnKMAUkLOJfFfb7u2Z2HWQRyA3wn1BXQFsz0f0DL3DAMvjFaYhYGHwGPx6Nn2YZluv4VaMVqHs7AJegV6MOkcEq243eYS70zbO8mhZi9/gwWkuJROz6qu1+B1pvzAYliFH0a7v1P4E2x6pQlIGnFKAVRFKIVWtuk8rzgr0DzUFVRSnHVOs1ZFZQyAllrTrqQYKB0MwsiTw+EAw1mL4t5mnP2MprXTATN2cU02VgSQ4xIIn7/lzCtzf4LK6LuTmonVbIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"retention curve 그래프\"\n        title=\"retention curve 그래프\"\n        src=\"/static/cadcb30183dc9572f142ccc9c416aa2f/f058b/img8.png\"\n        srcset=\"/static/cadcb30183dc9572f142ccc9c416aa2f/c26ae/img8.png 158w,\n/static/cadcb30183dc9572f142ccc9c416aa2f/6bdcf/img8.png 315w,\n/static/cadcb30183dc9572f142ccc9c416aa2f/f058b/img8.png 630w,\n/static/cadcb30183dc9572f142ccc9c416aa2f/40601/img8.png 945w,\n/static/cadcb30183dc9572f142ccc9c416aa2f/afa26/img8.png 1258w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Cohort chart 보다 많은 인사이트를 얻기는 힘들지만, 한눈에 retention을 확인할 수 있다는 점에서 retention curve도 자주 사용됩니다. 위 그래프를 보면 Netflix의 week 1 평균 retention은 약 22%이고 시간이 지날수록 계속 감소하다 약 2%로 수렴하고 있습니다.</p>\n<h3>마무리</h3>\n<p>유저가 서비스를 계속 잘 사용하고 있는지 (또는 없는지) 알았다면, 이제 할 일은 어떻게 하면 retention을 올릴 수 있을지 고민하는 것입니다. 이 글에서는 단순히 cohort를 가입 날짜 또는 core event를 처음 수행한 날짜로 보았지만 다른 다양한 기준으로 유저를 나눠볼 수 있습니다. Netflix로 예를 들면 플랫폼, 유입 경로, 나이 등 유저의 특징을 사용해 볼 수도 있고 구독 지불 방법, 특정 영화를 본 유저와 보지 않은 유저, 좋아요를 클릭한 유저와 클릭하지 않은 유저 등 유저의 행동을 기준으로 나눠 볼 수 있습니다. 그리고 만약 특정 cohort의 retention이 유난히 좋다면 더 많은 유저들을 이 cohrot로 만들기 위해 제품 개선을 시작해 볼 수 있을 것입니다.</p>","frontmatter":{"title":"Python으로 그려보는 Cohort Chart","date":"April 11, 2022","description":"","category":null,"tags":["data-analysis","retention","visualization"]}},"previous":{"fields":{"slug":"/isl/ch10/"},"frontmatter":{"title":"Ch 10. Unsupervised Learning"}},"next":null},"pageContext":{"id":"0f2ec019-92b9-5452-8b07-bc01851d3336","previousPostId":"e24f9e4f-205c-5eaa-8ad5-4393a9b53a91","nextPostId":null}},
    "staticQueryHashes": ["2841359383"]}